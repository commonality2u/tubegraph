---
title: Understanding AI agents
videoId: zaNIvRllycM
---

From: [[colemedin]] <br/> 

[[defining_ai_agents|Artificial intelligence]] (AI) is a primary focus for developers today, but many may not be concentrating enough on [[defining_ai_agents|AI agents]], which are essential for unleashing the full power of AI <a class="yt-timestamp" data-t="00:00:00">[00:00:00]</a>.

## What is an [[defining_ai_agents|AI Agent]]?
An [[defining_ai_agents|AI agent]] is essentially a large language model given the ability to interact with the outside world <a class="yt-timestamp" data-t="00:00:15">[00:00:15]</a>. This interaction allows it to perform various actions like drafting emails, creating tasks, or adding contacts to a CRM <a class="yt-timestamp" data-t="00:00:22">[00:00:22]</a>.

### [[advantages_of_ai_agents|Advantages of AI Agents]]
[[defining_ai_agents|Agents]] can be developed to work collaboratively on complex tasks or function autonomously, such as in customer support <a class="yt-timestamp" data-t="00:00:29">[00:00:29]</a>. These capabilities make [[defining_ai_agents|agents]] truly powerful and useful for practical applications <a class="yt-timestamp" data-t="00:00:37">[00:00:37]</a>.

## [[building_ai_agents|Building AI Agents]]: A Practical Example
To demonstrate the capabilities of [[defining_ai_agents|AI agents]], we can [[building_ai_agents|build]] a basic one from scratch <a class="yt-timestamp" data-t="00:01:05">[00:01:05]</a>. This example assumes a basic understanding of Python <a class="yt-timestamp" data-t="00:01:11">[00:01:11]</a>. All code will be available on GitHub for reference <a class="yt-timestamp" data-t="00:01:23">[00:01:23]</a>.

The goal is to create a GPT chatbot that can interact with the outside world to create tasks <a class="yt-timestamp" data-t="00:01:44">[00:01:44]</a>. The task management platform used in this example is Asana <a class="yt-timestamp" data-t="00:01:48">[00:01:48]</a>.

### Setup and Configuration
1.  **Import Packages**: Essential packages like Asana and OpenAI need to be imported <a class="yt-timestamp" data-t="00:02:13">[00:02:13]</a>. Instructions for installation will be in the GitHub repository <a class="yt-timestamp" data-t="00:02:21">[00:02:21]</a>.
2.  **Define Environment Variables**: Secrets and configurations, such as the OpenAI API key and Asana access token, should be stored in an `.env` file to keep them out of the code <a class="yt-timestamp" data-t="00:02:29">[00:02:29]</a>. These variables are then loaded using the `dotenv` package <a class="yt-timestamp" data-t="00:03:03">[00:03:03]</a>.
3.  **Initialize Clients**:
    *   An OpenAI client is created, with the model defined via an environment variable (e.g., `gpt-4o`) <a class="yt-timestamp" data-t="00:03:14">[00:03:14]</a>.
    *   An Asana client is set up using the access token, specifically instantiating the `tasks` API for task creation functionality <a class="yt-timestamp" data-t="00:03:29">[00:03:29]</a>.

### Chatbot Message Structure
Interaction with GPT models involves a list of messages, each with a specific role <a class="yt-timestamp" data-t="00:04:02">[00:04:02]</a>:
*   **System Role**: Provides background context to the AI, such as "You are a personal assistant who helps manage tasks in Asana" and the current date <a class="yt-timestamp" data-t="00:04:15">[00:04:15]</a>.
*   **User Role**: Messages sent by the user <a class="yt-timestamp" data-t="00:04:20">[00:04:20]</a>.
*   **Assistant Role**: Responses generated by the AI <a class="yt-timestamp" data-t="00:04:25">[00:04:25]</a>.

### Interacting with External Tools
The core of an [[defining_ai_agents|AI agent]]'s power comes from its ability to use "tools" <a class="yt-timestamp" data-t="00:04:30">[00:04:30]</a>. These are functions in the Python code that the AI can execute to interact with the outside world <a class="yt-timestamp" data-t="00:08:21">[00:08:21]</a>.

#### `add_asana_task` Function
A function named `add_asana_task` is created to add tasks to Asana, accepting parameters for the task name and an optional due date <a class="yt-timestamp" data-t="00:06:31">[00:06:31]</a>. This function defines the data required by the Asana API (task name, due date, project ID) and calls the Asana `tasks` API to create the task <a class="yt-timestamp" data-t="00:07:07">[00:07:07]</a>. The function returns the API response or an error <a class="yt-timestamp" data-t="00:07:27">[00:07:27]</a>.

#### Defining Tools for the AI
For the AI to understand and utilize functions, specific configuration is required <a class="yt-timestamp" data-t="00:08:33">[00:08:33]</a>. A `get_tools` function returns an array of tool definitions <a class="yt-timestamp" data-t="00:08:43">[00:08:43]</a>. Each tool object includes:
*   **Description**: Tells the AI when to use the function <a class="yt-timestamp" data-t="00:09:02">[00:09:02]</a>.
*   **Parameters**: Defines the arguments the function accepts (e.g., `task_name`, `due_on`), including data types and required parameters <a class="yt-timestamp" data-t="00:09:09">[00:09:09]</a>. Importantly, this includes the expected date format for `due_on` <a class="yt-timestamp" data-t="00:09:23">[00:09:23]</a>.

This detailed definition allows the AI to intelligently determine appropriate values from the conversation and format them correctly, even for complex inputs like dates <a class="yt-timestamp" data-t="00:09:40">[00:09:40]</a>. This capability to convert natural language into executable code is a core aspect of what makes [[defining_ai_agents|agents]] powerful <a class="yt-timestamp" data-t="00:10:01">[00:10:01]</a>.

#### `prompt_AI` Function Logic
The `prompt_AI` function takes the list of messages (chat history) and calls `client.chat.completions.create` <a class="yt-timestamp" data-t="00:07:52">[00:07:52]</a>. It passes the model, the chat history, and the defined tools <a class="yt-timestamp" data-t="00:08:06">[00:08:06]</a>.

The AI's response can indicate a content message or a "tool call" <a class="yt-timestamp" data-t="00:11:10">[00:11:10]</a>. If tool calls are present, the agent performs the following steps:
1.  **Map Tools**: A mapping is created from the string name of the function (as returned by the AI) to the actual Python function object <a class="yt-timestamp" data-t="00:11:51">[00:11:51]</a>.
2.  **Add Tool Request to History**: The AI's request to invoke a tool is added to the message history for context <a class="yt-timestamp" data-t="00:12:05">[00:12:05]</a>.
3.  **Execute Tool Call**: The agent loops through each tool call, extracts the arguments specified by the AI, and invokes the corresponding Python function <a class="yt-timestamp" data-t="00:12:26">[00:12:26]</a>. For instance, `create_asana_task` would be called with the task name and due date determined by the AI <a class="yt-timestamp" data-t="00:12:53">[00:12:53]</a>.
4.  **Append Result to History**: The result of the function call (e.g., the Asana API response) is added to the chat history <a class="yt-timestamp" data-t="00:13:07">[00:13:07]</a>.
5.  **Final AI Query**: The AI is queried again with the updated chat history (including the tool request and its result) to generate a human-readable response based on what occurred <a class="yt-timestamp" data-t="00:13:42">[00:13:42]</a>. This allows the AI to provide details like a link to the newly created task <a class="yt-timestamp" data-t="00:13:58">[00:13:58]</a>.

### Running the [[defining_ai_agents|AI Agent]]
When the script is executed, the agent immediately prompts for a user message <a class="yt-timestamp" data-t="00:14:46">[00:14:46]</a>. It can respond to general questions like a regular chatbot <a class="yt-timestamp" data-t="00:14:51">[00:14:51]</a>. However, when prompted with a request like "create a task for me to make a thumbnail for my next video and I need this done by Wednesday," the agent intelligently decides to make the tool call to Asana <a class="yt-timestamp" data-t="00:15:13">[00:15:13]</a>.

The agent then confirms the task creation, including the due date and a direct link to the task in Asana <a class="yt-timestamp" data-t="00:15:26">[00:15:26]</a>. This demonstrates the agent's ability to understand natural language requests and translate them into specific actions in external applications <a class="yt-timestamp" data-t="00:16:17">[00:16:17]</a>.

This basic [[developing_ai_agents_using_python|AI agent developed using Python]] can be further expanded to handle more parameters like priority or assignees, or even prompt the user for missing information <a class="yt-timestamp" data-t="00:15:54">[00:15:54]</a>.

## Conclusion
In a short time, a functional [[defining_ai_agents|AI agent]] can be [[building_ai_agents|built]] from scratch that combines conversational abilities with the power to perform actions in external systems like Asana <a class="yt-timestamp" data-t="00:16:12">[00:16:12]</a>. The ability of [[defining_ai_agents|agents]] to interpret natural language and execute code based on that understanding is a significant advancement in AI <a class="yt-timestamp" data-t="00:16:23">[00:16:23]</a>. Future developments will explore [[understanding_ai_agent_frameworks|easier and more powerful ways to create AI agents]] <a class="yt-timestamp" data-t="00:16:36">[00:16:36]</a>.